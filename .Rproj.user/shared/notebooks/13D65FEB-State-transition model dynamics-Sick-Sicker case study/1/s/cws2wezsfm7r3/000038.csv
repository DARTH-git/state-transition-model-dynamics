"0","head(sim_no_trt$TS[1:4, 10:14]) # the transition array"
"1","     "
"1"," Cycle 9"
"1"," Cycle 10"
"1"," Cycle 11"
"1"," Cycle 12"
"1"," Cycle 13"
"1","
Ind 1"
"1"," ""H->H"" "
"1"," ""H->H""  "
"1"," ""H->H""  "
"1"," ""H->H""  "
"1"," ""H->H""  "
"1","
Ind 2"
"1"," ""H->H"" "
"1"," ""H->H""  "
"1"," ""H->H""  "
"1"," ""H->H""  "
"1"," ""H->H""  "
"1","
Ind 3"
"1"," ""H->S1"""
"1"," ""S1->S1"""
"1"," ""S1->H"" "
"1"," ""H->H""  "
"1"," ""H->H""  "
"1","
Ind 4"
"1"," ""S1->H"""
"1"," ""H->H""  "
"1"," ""H->H""  "
"1"," ""H->H""  "
"1"," ""H->S1"" "
"1","
"
"0","head(sim_no_trt$TR) # the cohort trace from the microsimulation"
"1","       "
"1","       H"
"1","      S1"
"1","      S2"
"1","       D"
"1","
Cycle 0"
"1"," 1.00000"
"1"," 0.00000"
"1"," 0.00000"
"1"," 0.00000"
"1","
Cycle 1"
"1"," 0.84466"
"1"," 0.15025"
"1"," 0.00000"
"1"," 0.00509"
"1","
Cycle 2"
"1"," 0.78981"
"1"," 0.18283"
"1"," 0.01609"
"1"," 0.01127"
"1","
Cycle 3"
"1"," 0.75742"
"1"," 0.18893"
"1"," 0.03462"
"1"," 0.01903"
"1","
Cycle 4"
"1"," 0.73396"
"1"," 0.18598"
"1"," 0.05271"
"1"," 0.02735"
"1","
Cycle 5"
"1"," 0.71449"
"1"," 0.17933"
"1"," 0.07023"
"1"," 0.03595"
"1","
"
"0","a.A_MicroSim <- array(0, dim = c(n.states, n.states, n.t + 1),"
"0","             dimnames = list(v.n, v.n, 0:n.t)) # initialize array"
"0","diag(a.A_MicroSim[, , 1]) <- s0 # "
"0","for (t in 2:n.t + 1){"
"0","a.A_MicroSim[""H"", ""H"",  t] <- sum((sim_no_trt$TS[, t] == ""H->H"") , na.rm = TRUE) / n.i "
"0","a.A_MicroSim[""H"", ""S1"", t] <- sum((sim_no_trt$TS[, t] == ""H->S1""), na.rm = TRUE) / n.i "
"0","a.A_MicroSim[""H"", ""S2"", t] <- sum((sim_no_trt$TS[, t] == ""H->S2""), na.rm = TRUE) / n.i "
"0","a.A_MicroSim[""H"", ""D"",  t] <- sum((sim_no_trt$TS[, t] == ""H->D"") , na.rm = TRUE) / n.i "
"0","a.A_MicroSim[""S1"", ""H"",  t] <- sum((sim_no_trt$TS[, t] == ""S1->H"") , na.rm = TRUE) / n.i "
"0","a.A_MicroSim[""S1"", ""S1"", t] <- sum((sim_no_trt$TS[, t] == ""S1->S1""), na.rm = TRUE) / n.i "
"0","a.A_MicroSim[""S1"", ""S2"", t] <- sum((sim_no_trt$TS[, t] == ""S1->S2""), na.rm = TRUE) / n.i "
"0","a.A_MicroSim[""S1"", ""D"",  t] <- sum((sim_no_trt$TS[, t] == ""S1->D"") , na.rm = TRUE) / n.i "
"0","a.A_MicroSim[""S1"", ""H"",  t] <- sum((sim_no_trt$TS[, t] == ""S2->H"") , na.rm = TRUE) / n.i "
"0","a.A_MicroSim[""S2"", ""S1"", t] <- sum((sim_no_trt$TS[, t] == ""S2->S1""), na.rm = TRUE) / n.i "
"0","a.A_MicroSim[""S2"", ""S2"", t] <- sum((sim_no_trt$TS[, t] == ""S2->S2""), na.rm = TRUE) / n.i "
"0","a.A_MicroSim[""S2"", ""D"",  t] <- sum((sim_no_trt$TS[, t] == ""S2->D"") , na.rm = TRUE) / n.i "
"0","a.A_MicroSim[""D"", ""H"",  t] <- sum((sim_no_trt$TS[, t] == ""D->H"") , na.rm = TRUE) / n.i "
"0","a.A_MicroSim[""D"", ""S1"", t] <- sum((sim_no_trt$TS[, t] == ""D->S1""), na.rm = TRUE) / n.i "
"0","a.A_MicroSim[""D"", ""S2"", t] <- sum((sim_no_trt$TS[, t] == ""D->S2""), na.rm = TRUE) / n.i "
"0","a.A_MicroSim[""D"", ""D"",  t] <- sum((sim_no_trt$TS[, t] == ""D->D"") , na.rm = TRUE) / n.i "
"0","}"
